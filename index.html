<!DOCTYPE html><html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Politieke Kompas — Progressief vs Conservatief</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  <style>
    body { font-family: Inter, sans-serif; background: #0f172a; color: #f8fafc; min-height: 100vh; }
    .card { background: rgba(255,255,255,0.08); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.15); border-radius: 1rem; padding: 1.5rem; }
    .slider { -webkit-appearance: none; width: 100%; height: 10px; border-radius: 999px; background: rgba(255,255,255,0.2); outline: none; }
    .slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 22px; height: 22px; border-radius: 50%; background: linear-gradient(135deg, #3b82f6, #a855f7); border: 2px solid white; cursor: pointer; }
    .dot { position:absolute; width:18px; height:18px; border-radius:50%; background:linear-gradient(135deg, #ef4444, #fb7185); border:2px solid white; transform:translate(-50%,-50%); transition: all .6s; }
    .info-pop { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(2,6,23,0.6); z-index: 50; }
    .info-card { max-width: 34rem; width: calc(100% - 2rem); background: rgba(15,23,42,0.95); border: 1px solid rgba(255,255,255,0.15); border-radius: 1rem; padding: 1rem; }
    .badge { background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.1); padding: .2rem .5rem; border-radius: 999px; font-size: .75rem; }
    .icon-btn { display:inline-flex; align-items:center; gap:.35rem; padding:.35rem .6rem; border-radius:.6rem; background: rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.15); }
  </style>
</head>
<body class="p-6">
  <header class="max-w-4xl mx-auto mb-6 flex items-center justify-between">
    <h1 class="text-2xl font-bold">Politieke Kompas</h1>
    <button id="resetBtn" class="px-3 py-2 rounded bg-slate-700 hover:bg-slate-600 flex items-center gap-2"><i data-feather="refresh-cw"></i> Opnieuw</button>
  </header>  <main class="max-w-4xl mx-auto">
    <!-- Quiz -->
    <div id="quiz" class="card mb-6">
      <div class="mb-4 flex justify-between items-center">
        <span id="qCounter">Vraag 1</span>
        <div class="w-full h-2 bg-white/10 ml-4 rounded">
          <div id="progress" class="h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded" style="width:5%"></div>
        </div>
      </div>
      <div class="flex items-start gap-2 mb-3">
        <p id="qText" class="text-lg font-semibold flex-1"></p>
        <span id="qCat" class="badge shrink-0"></span>
        <button id="infoBtn" class="icon-btn shrink-0" title="Meer uitleg"><i data-feather="info"></i><span class="hidden sm:inline">Info</span></button>
      </div>
      <input id="qSlider" type="range" min="1" max="5" value="3" class="slider mb-3">
      <div class="flex justify-between text-sm text-slate-300">
        <span>Helemaal oneens</span><span>Neutraal</span><span>Helemaal eens</span>
      </div>
      <div class="mt-4 flex justify-between">
        <button id="prevBtn" class="px-4 py-2 bg-slate-600 rounded disabled:opacity-40">Vorige</button>
        <button id="nextBtn" class="px-4 py-2 bg-blue-600 rounded">Volgende</button>
      </div>
    </div><!-- Resultaten -->
<div id="results" class="hidden space-y-6">
  <div class="grid md:grid-cols-2 gap-6">
    <div class="card">
      <h2 class="text-xl font-bold mb-3">Jouw scores</h2>
      <div class="mb-4">
        <p class="mb-1 flex justify-between"><span>Economisch (Links ↔ Rechts)</span><span id="economicScore">0%</span></p>
        <div class="w-full h-2 bg-white/10 rounded"><div id="economicBar" class="h-2 bg-red-500 rounded" style="width:50%"></div></div>
      </div>
      <div class="mb-4">
        <p class="mb-1 flex justify-between"><span>Sociaal + Vrijheid (Progressief ↔ Conservatief)</span><span id="socialScore">0%</span></p>
        <div class="w-full h-2 bg-white/10 rounded"><div id="socialBar" class="h-2 bg-green-500 rounded" style="width:50%"></div></div>
      </div>
      <div class="mb-4">
        <p class="mb-1 flex justify-between"><span>Vrijheid (Libertair ↔ Autoriteit)</span><span id="freedomScore">0%</span></p>
        <div class="w-full h-2 bg-white/10 rounded"><div id="freedomBar" class="h-2 bg-blue-500 rounded" style="width:50%"></div></div>
      </div>
      <div>
        <p class="mb-1 flex justify-between"><span>Internationaal (Globalistisch ↔ Nationalistisch)</span><span id="intlScore">0%</span></p>
        <div class="w-full h-2 bg-white/10 rounded"><div id="intlBar" class="h-2 bg-purple-500 rounded" style="width:50%"></div></div>
      </div>
      <div id="quadText" class="mt-4 text-sm"></div>
    </div>
    <div class="card">
      <h2 class="text-xl font-bold mb-3">Kompas</h2>
      <div id="compass" class="relative aspect-square bg-slate-800">
        <!-- grid lines -->
        <div class="absolute top-1/2 left-0 right-0 h-px bg-slate-500"></div>
        <div class="absolute left-1/2 top-0 bottom-0 w-px bg-slate-500"></div>

        <!-- OUTSIDE AXIS LABELS (no arrows) -->
        <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-full text-xs">Conservatief</div>
        <div class="absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-full text-xs">Progressief</div>
        <div class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full text-xs mr-2">Links</div>
        <div class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-full text-xs ml-2">Rechts</div>

        <!-- result dot -->
        <div id="dot" class="dot" style="left:50%;top:50%"></div>
      </div>
    </div>
  </div>
  <div class="card">
    <h2 class="text-lg font-bold mb-2">Uitleg</h2>
    <div id="explanation" class="text-sm"></div>
  </div>
</div>

  </main>  <!-- Info Popup -->  <div id="infoModal" class="info-pop">
    <div class="info-card">
      <div class="flex items-start justify-between gap-3 mb-2">
        <h3 id="infoTitle" class="text-lg font-semibold"></h3>
        <button id="infoClose" class="icon-btn" title="Sluit"><i data-feather="x"></i></button>
      </div>
      <p id="infoUitleg" class="text-slate-200 mb-3"></p>
      <div class="grid sm:grid-cols-2 gap-3 text-sm">
        <div class="p-3 rounded bg-white/5 border border-white/10">
          <div class="mb-1"><span class="badge">Pluspunten</span></div>
          <ul id="infoVoor" class="list-disc ml-5 space-y-1"></ul>
        </div>
        <div class="p-3 rounded bg-white/5 border border-white/10">
          <div class="mb-1"><span class="badge">Minpunten</span></div>
          <ul id="infoTegen" class="list-disc ml-5 space-y-1"></ul>
        </div>
      </div>
    </div>
  </div>  <script>
    feather.replace();

    // 24 vragen met info in simpele taal
    const questions = [
      // 1) ECONOMIE — links ↔ rechts (10)
      {cat:'Economie', text:"Belastingen voor hoge inkomens moeten flink omhoog.", axis:'economic', polarity:-1, info:{uitleg:'Hogere belasting voor hoge inkomens om ongelijkheid te verkleinen.', voor:['Minder ongelijkheid','Meer geld voor publieke diensten'], tegen:['Kan investeringen remmen','Rijken kunnen vertrekken']}},
      {cat:'Economie', text:"De overheid moet bedrijven die winst maken zwaar belasten.", axis:'economic', polarity:-1, info:{uitleg:'Hogere winstbelasting voor bedrijven.', voor:['Meer inkomsten voor overheid','Eerlijkere bijdrage'], tegen:['Minder investeringen','Bedrijven kunnen uitwijken']}},
      {cat:'Economie', text:"De overheid moet basisvoorzieningen (zorg, energie, OV) in eigen beheer hebben.", axis:'economic', polarity:-1, info:{uitleg:'Publiek eigendom i.p.v. private bedrijven.', voor:['Toegankelijk en betaalbaar','Meer controle'], tegen:['Minder efficiënt/innovatie','Hoge kosten']}},
      {cat:'Economie', text:"Werknemers hebben recht op een minimumloon dat verder stijgt met de inflatie.", axis:'economic', polarity:-1, info:{uitleg:'Minimumloon automatisch meestijgen.', voor:['Koopkracht blijft op peil','Minder armoede'], tegen:['Hogere loonkosten','Kan banen kosten']}},
      {cat:'Economie', text:"Flexibele arbeid (zzp, tijdelijke contracten) moet sterker gereguleerd worden.", axis:'economic', polarity:-1, info:{uitleg:'Meer regels voor flexwerk en schijnzelfstandigheid.', voor:['Bescherming voor werkenden','Minder race to the bottom'], tegen:['Minder flexibiliteit','Minder ondernemerschap']}},
      {cat:'Economie', text:"Concurrentie stimuleert innovatie en welvaart.", axis:'economic', polarity:+1, info:{uitleg:'Meer marktwerking, minder monopolie.', voor:['Lagere prijzen','Meer keuze en innovatie'], tegen:['Kans op kwaliteitsverschil','Minder waarborg publieke waarden']}},
      {cat:'Economie', text:"Overheidsuitgaven moeten vooral gericht zijn op infrastructuur en defensie, niet op sociale zekerheid.", axis:'economic', polarity:+1, info:{uitleg:'Prioriteit bij bouwen en veiligheid.', voor:['Langetermijngroei','Nationale veiligheid'], tegen:['Minder steun voor kwetsbaren','Grotere ongelijkheid']}},
      {cat:'Economie', text:"Een vlak belastingtarief (iedereen hetzelfde percentage) is eerlijker dan progressieve belasting.", axis:'economic', polarity:+1, info:{uitleg:'Flat tax i.p.v. hogere schijven.', voor:['Eenvoudig en transparant','Minder ontwijking'], tegen:['Minder herverdeling','Drukt harder op lage inkomens']}},
      {cat:'Economie', text:"Vakbonden hebben te veel macht in Nederland.", axis:'economic', polarity:+1, info:{uitleg:'Minder invloed van vakbonden.', voor:['Meer flexibiliteit voor bedrijven','Snellere aanpassing'], tegen:['Zwakkere positie werknemers','Lagere lonen mogelijk']}},
      {cat:'Economie', text:"De overheid moet zich zo min mogelijk bemoeien met de economie.", axis:'economic', polarity:+1, info:{uitleg:'Kleine overheid, lage lasten.', voor:['Meer ondernemerschap','Minder bureaucratie'], tegen:['Minder bescherming','Grotere kans op misbruik']}},

      // 2) SOCIAAL — progressief ↔ conservatief (10)
      {cat:'Sociaal', text:"Het homohuwelijk moet volledig gelijkwaardig zijn aan het heterohuwelijk.", axis:'social', polarity:-1, info:{uitleg:'Exact dezelfde rechten voor LHBTQ+-paren.', voor:['Gelijke behandeling','Minder discriminatie'], tegen:['Botst met traditionele opvattingen','Religieuze bezwaren']}},
      {cat:'Sociaal', text:"Drugsgebruik moet grotendeels legaal zijn.", axis:'social', polarity:-1, info:{uitleg:'Gebruik en bezit toelaten/regelen.', voor:['Minder criminaliteit','Betere controle/kwaliteit'], tegen:['Kan gebruik verhogen','Gezondheidsrisico’s']}},
      {cat:'Sociaal', text:"Abortus moet altijd toegestaan blijven.", axis:'social', polarity:-1, info:{uitleg:'Zelfbeschikking over zwangerschap.', voor:['Vrijheid en veiligheid','Voorkomt illegale praktijken'], tegen:['Ethische bezwaren','Morele discussie']}},
      {cat:'Sociaal', text:"Traditionele gezinswaarden zijn de hoeksteen van de samenleving.", axis:'social', polarity:+1, info:{uitleg:'Meer nadruk op gezin, traditie, rolpatronen.', voor:['Stabiliteit en samenhang','Duidelijke normen'], tegen:['Minder ruimte voor diversiteit','Kan verouderde rollen versterken']}},
      {cat:'Sociaal', text:"Kunst en cultuur verdienen meer subsidie.", axis:'social', polarity:-1, info:{uitleg:'Meer overheidsgeld voor cultuursector.', voor:['Behoud en vernieuwing cultuur','Toegankelijk voor iedereen'], tegen:['Kost veel geld','Markt kan ook financieren']}},
      {cat:'Sociaal', text:"Strenge straffen zijn effectiever dan heropvoeding bij criminelen.", axis:'social', polarity:+1, info:{uitleg:'Zwaarder straffen i.p.v. herstel.', voor:['Afschrikking','Rechtvaardigheidsgevoel'], tegen:['Weinig effect op oorzaken','Meer recidive mogelijk']}},
      {cat:'Sociaal', text:"De overheid moet religieuze scholen subsidiëren.", axis:'social', polarity:+1, info:{uitleg:'Publiek geld voor scholen op religieuze grondslag.', voor:['Vrijheid van onderwijs','Aansluiting bij ouders'], tegen:['Scheiding kerk–staat onder druk','Kan segregatie vergroten']}},
      {cat:'Sociaal', text:"Migranten moeten zich zoveel mogelijk aanpassen aan de Nederlandse cultuur.", axis:'social', polarity:+1, info:{uitleg:'Sterke nadruk op assimilatie.', voor:['Eenduidige regels en taal','Minder misverstanden'], tegen:['Weinig ruimte voor eigen cultuur','Kan streng/uitsluitend voelen']}},
      {cat:'Sociaal', text:"Vrijheid van meningsuiting mag niet beperkt worden, ook niet als uitspraken kwetsend zijn.", axis:'social', polarity:-1, info:{uitleg:'Ruime vrije meningsuiting.', voor:['Sterke democratie','Open debat'], tegen:['Kan kwetsend of polariserend zijn','Risico op haatdragende taal']}},
      {cat:'Sociaal', text:"Nederland moet meer doen om gendergelijkheid te bevorderen.", axis:'social', polarity:-1, info:{uitleg:'Actief beleid voor gelijke kansen.', voor:['Meer gelijkheid','Beter benutten talent'], tegen:['Extra regels en kosten','Niet altijd nodig volgens sommigen']}},

      // 3) VRIJHEID — autoriteit ↔ libertair (10)
      {cat:'Vrijheid', text:"De overheid mag verregaande digitale surveillance inzetten om terrorisme te bestrijden.", axis:'freedom', polarity:+1, info:{uitleg:'Meer data/monitoring door overheid.', voor:['Meer veiligheid','Sneller opsporen'], tegen:['Minder privacy','Kans op misbruik']}},
      {cat:'Vrijheid', text:"Mensen hebben het recht om hun eigen lichaam te gebruiken zoals ze willen (bijvoorbeeld drugs of euthanasie).", axis:'freedom', polarity:-1, info:{uitleg:'Grote persoonlijke autonomie.', voor:['Vrijheid en waardigheid','Minder betutteling'], tegen:['Moeilijke ethische grenzen','Maatschappelijke risico’s']}},
      {cat:'Vrijheid', text:"Wapenbezit door burgers moet legaal zijn.", axis:'freedom', polarity:-1, info:{uitleg:'Burgers mogen vuurwapens bezitten.', voor:['Zelfverdediging','Macht niet alleen bij staat'], tegen:['Meer geweldsrisico','Moeilijk te controleren']}},
      {cat:'Vrijheid', text:"Burgers moeten zelf mogen kiezen of ze een zorgverzekering afsluiten.", axis:'freedom', polarity:-1, info:{uitleg:'Geen verplichte basisverzekering.', voor:['Meer keuzevrijheid','Lagere lasten voor sommigen'], tegen:['Risico dat mensen onverzekerd zijn','Zorg wordt duurder voor zieken']}},
      {cat:'Vrijheid', text:"Er moeten bindende referenda komen voor belangrijke beslissingen.", axis:'freedom', polarity:-1, info:{uitleg:'Directe democratie met bindend effect.', voor:['Meer invloed burgers','Draagvlak voor beleid'], tegen:['Complexe onderwerpen versimpeld','Kans op populisme']}},
      {cat:'Vrijheid', text:"De overheid mag zich niet bemoeien met het privéleven van burgers, zolang er geen schade wordt veroorzaakt.", axis:'freedom', polarity:-1, info:{uitleg:'Staat blijft op afstand in privésfeer.', voor:['Grote persoonlijke vrijheid','Minder betutteling'], tegen:['Moeilijk te bepalen wat “schade” is','Kan handhaving bemoeilijken']}},
      {cat:'Vrijheid', text:"Bedrijven moeten vrij zijn om zelf te bepalen wie ze aannemen, ook al leidt dit tot discriminatie.", axis:'freedom', polarity:-1, info:{uitleg:'Weinig regels op aannamebeleid.', voor:['Volledige ondernemingsvrijheid','Minder overheid'], tegen:['Discriminatie neemt toe','Oneerlijke kansen']}},
      {cat:'Vrijheid', text:"Een sterke politie en justitie zijn essentieel voor een vrije samenleving.", axis:'freedom', polarity:+1, info:{uitleg:'Meer capaciteit/middelen voor veiligheid.', voor:['Bescherming rechten','Veiligheid eerst'], tegen:['Kan leiden tot hard beleid','Vrijheden kunnen onder druk staan']}},
      {cat:'Vrijheid', text:"Overheidsinformatie moet volledig openbaar zijn, tenzij er direct gevaar dreigt.", axis:'freedom', polarity:-1, info:{uitleg:'Open overheid als norm.', voor:['Transparantie en controle','Minder corruptie'], tegen:['Gevoelige info kan uitlekken','Beperkt onderhandelingsruimte overheid']}},
      {cat:'Vrijheid', text:"Het is beter om tien schuldigen vrij te laten lopen dan één onschuldige onterecht te straffen.", axis:'freedom', polarity:-1, info:{uitleg:'Voorzichtigheid in strafrecht.', voor:['Beschermt onschuldigen','Rechtsstaat boven snelheid'], tegen:['Gevaar dat schuldigen vrijkomen','Onveiligheidsgevoel']}},

      // 4) INTERNATIONAAL — nationalist ↔ globalist (10)
      {cat:'Internationaal', text:"Nederland moet uit de Europese Unie stappen.", axis:'international', polarity:+1, info:{uitleg:'Nexit: buiten de EU gaan.', voor:['Meer eigen regels','Geen EU-bijdrage'], tegen:['Minder handel/invloed','Economische onzekerheid']}},
      {cat:'Internationaal', text:"Vrijhandel is goed voor iedereen, ook als sommige banen verdwijnen.", axis:'international', polarity:-1, info:{uitleg:'Meer handel, minder barrières.', voor:['Goedkopere producten','Meer wereldwijde groei'], tegen:['Banenverlies in sectoren','Afhankelijk van import']}},
      {cat:'Internationaal', text:"Nederland moet zijn grenzen sluiten voor asielzoekers.", axis:'international', polarity:+1, info:{uitleg:'Geen/veel minder asielinstroom.', voor:['Minder druk op opvang/wonen','Meer controle'], tegen:['Schendt vluchtelingenrechten','Negatieve internationale gevolgen']}},
      {cat:'Internationaal', text:"Ontwikkelingshulp is weggegooid geld.", axis:'international', polarity:+1, info:{uitleg:'Hulp werkt niet/doelt niet goed.', voor:['Bespaart geld','Stimuleert zelfredzaamheid'], tegen:['Mensen in nood krijgen geen steun','Stabiliteit en handel lijden eronder']}},
      {cat:'Internationaal', text:"Klimaatmaatregelen moeten wereldwijd gecoördineerd worden.", axis:'international', polarity:-1, info:{uitleg:'Internationale afspraken over klimaat.', voor:['Effectiever wereldwijd','Gelijke spelregels'], tegen:['Moeilijk te handhaven','Kost soevereiniteit/tempo']}},
      {cat:'Internationaal', text:"Nederland moet zijn defensie-uitgaven fors verhogen.", axis:'international', polarity:+1, info:{uitleg:'Veel meer geld naar defensie.', voor:['Betere veiligheid/afschrikking','NAVO-normen halen'], tegen:['Geld gaat niet naar andere zaken','Kan spanningen vergroten']}},
      {cat:'Internationaal', text:"Multinationale bedrijven hebben te veel macht op wereldniveau.", axis:'international', polarity:-1, info:{uitleg:'Grote bedrijven beperken met regels.', voor:['Meer eerlijke concurrentie','Minder belastingontwijking'], tegen:['Meer regels/kosten','Minder investeringen']}},
      {cat:'Internationaal', text:"Nederland moet actief vluchtelingen opnemen uit conflictgebieden.", axis:'international', polarity:-1, info:{uitleg:'Menswaardige opvang en hervestiging.', voor:['Humanitair juist','Internationale solidariteit'], tegen:['Druk op woningmarkt/voorzieningen','Integratie kost tijd en geld']}},
      {cat:'Internationaal', text:"Internationale verdragen beperken de Nederlandse soevereiniteit te veel.", axis:'international', polarity:+1, info:{uitleg:'Minder gebonden zijn aan verdragen.', voor:['Meer eigen koers','Sneller beleid'], tegen:['Minder samenwerking','Minder invloed in de wereld']}},
      {cat:'Internationaal', text:"De Europese Unie moet meer samenwerken op defensie en buitenlandse politiek.", axis:'international', polarity:-1, info:{uitleg:'EU verder integreren op veiligheid/diplomatie.', voor:['Sterkere positie EU','Efficiënter optreden'], tegen:['Minder nationale zeggenschap','Complexere besluitvorming']}}
    ];

    let current=0; let answers=Array(questions.length).fill(3);
    const qText=document.getElementById('qText');
    const qCounter=document.getElementById('qCounter');
    const qSlider=document.getElementById('qSlider');
    const progress=document.getElementById('progress');
    const prevBtn=document.getElementById('prevBtn');
    const nextBtn=document.getElementById('nextBtn');
    const qCat=document.getElementById('qCat');

    const infoBtn=document.getElementById('infoBtn');
    const infoModal=document.getElementById('infoModal');
    const infoClose=document.getElementById('infoClose');
    const infoTitle=document.getElementById('infoTitle');
    const infoUitleg=document.getElementById('infoUitleg');
    const infoVoor=document.getElementById('infoVoor');
    const infoTegen=document.getElementById('infoTegen');

    function renderInfo(q){
      infoTitle.textContent = q.text;
      infoUitleg.textContent = q.info?.uitleg || '';
      infoVoor.innerHTML = (q.info?.voor||[]).map(v=>`<li>${v}</li>`).join('');
      infoTegen.innerHTML = (q.info?.tegen||[]).map(v=>`<li>${v}</li>`).join('');
    }

    function openInfo(){ infoModal.style.display='flex'; }
    function closeInfo(){ infoModal.style.display='none'; }

    infoBtn.addEventListener('click', ()=>{ renderInfo(questions[current]); openInfo(); });
    infoClose.addEventListener('click', closeInfo);
    infoModal.addEventListener('click', (e)=>{ if(e.target===infoModal) closeInfo(); });

    function showQuestion(){
      const q=questions[current];
      qText.textContent=q.text;
      qCat.textContent=q.cat || '';
      qCounter.textContent=`Vraag ${current+1}/${questions.length}`;
      qSlider.value=answers[current];
      const pct=Math.round((current)/(questions.length)*100);
      progress.style.width=`${pct}%`;
      prevBtn.disabled=current===0;
      nextBtn.textContent=current===questions.length-1?"Resultaat":"Volgende";
    }/${questions.length}`;
      qSlider.value=answers[current];
      progress.style.width=`${((current)/questions.length)*100}%`;
      prevBtn.disabled=current===0;
      nextBtn.textContent=current===questions.length-1?"Resultaat":"Volgende";
    }
    showQuestion();

    qSlider.addEventListener('input',()=>{answers[current]=parseInt(qSlider.value)});
    nextBtn.addEventListener('click',()=>{answers[current]=parseInt(qSlider.value); if(current<questions.length-1){current++;showQuestion();}else{calc();}});
    prevBtn.addEventListener('click',()=>{if(current>0){current--;showQuestion();}});
    document.getElementById('resetBtn').addEventListener('click',()=>{current=0;answers=Array(questions.length).fill(3);document.getElementById('results').classList.add('hidden');document.getElementById('quiz').classList.remove('hidden');showQuestion();});

    function calc(){
      let econ=0, soc=0, free=0, intl=0;
      let econCnt=0, socCnt=0, freeCnt=0, intlCnt=0;
      questions.forEach((q,i)=>{
        const val = (answers[i]-3); // -2..+2
        const sc = val * q.polarity; // direction
        if(q.axis==='economic'){ econ+=sc; econCnt++; }
        else if(q.axis==='social'){ soc+=sc; socCnt++; }
        else if(q.axis==='freedom'){ free+=sc; freeCnt++; }
        else if(q.axis==='international'){ intl+=sc; intlCnt++; }
      });
      // Normalize 0..100
      const toPct=(sum, n)=>{ const max=n*2; return Math.round(((sum + max) / (2*max)) * 100); };
      const econScore = toPct(econ, econCnt);
      const freedomScore = toPct(free, freeCnt); // 0=libertair, 100=autoriteit
      const intlScore = toPct(intl, intlCnt);    // 0=globalist, 100=nationalist
      // Y-axis: combine Sociaal (+ conservatief) with Vrijheid (autoriteit=conservatief, libertair=progressief)
      const socialCombinedSum = soc + free; // same orientation toward conservatief
      const socialScore = toPct(socialCombinedSum, socCnt + freeCnt);
      showResults(econScore, socialScore, freedomScore, intlScore);
    });
      const econMax=questions.filter(q=>q.axis==='economic').length*2;
      const socMax=questions.filter(q=>q.axis==='social').length*2;
      const econScore=Math.round(((econ+econMax)/(2*econMax))*100);
      const socScore=Math.round(((soc+socMax)/(2*socMax))*100);
      showResults(econScore,socScore);
    }

    function showResults(economicScore, socialScore, freedomScore, intlScore){
      document.getElementById('quiz').classList.add('hidden');
      document.getElementById('results').classList.remove('hidden');
      document.getElementById('economicScore').textContent=economicScore+"%";
      document.getElementById('socialScore').textContent=socialScore+"%";
      document.getElementById('freedomScore').textContent=freedomScore+"%";
      document.getElementById('intlScore').textContent=intlScore+"%";
      document.getElementById('economicBar').style.width=economicScore+"%";
      document.getElementById('socialBar').style.width=socialScore+"%";
      document.getElementById('freedomBar').style.width=freedomScore+"%";
      document.getElementById('intlBar').style.width=intlScore+"%";
      const dot=document.getElementById('dot'); dot.style.left=economicScore+'%'; dot.style.top=socialScore+'%';
      let quad=""; let txt="";
      const econSide=economicScore<50?'links':'rechts';
      const socSide=socialScore<50?'progressief':'conservatief';
      if(econSide==='links'&&socSide==='progressief'){quad='Links‑Progressief';txt='Eerlijkere economie en veel ruimte voor verandering en vrijheden.';}
      if(econSide==='rechts'&&socSide==='progressief'){quad='Rechts‑Progressief';txt='Marktgericht en vooruitstrevend in sociale en vrijheidskwesties.';}
      if(econSide==='links'&&socSide==='conservatief'){quad='Links‑Conservatief';txt='Egalitaire economie, maar waarde hechten aan traditie en orde.';}
      if(econSide==='rechts'&&socSide==='conservatief'){quad='Rechts‑Conservatief';txt='Marktgericht met nadruk op behoud en autoriteit.';}
      document.getElementById('quadText').innerHTML=`<strong>${quad}</strong><p>${txt}</p>`;
      document.getElementById('explanation').innerHTML=`
        <p>Economisch (links→rechts): <strong>${economicScore}%</strong></p>
        <p>Sociaal + Vrijheid (progressief→conservatief): <strong>${socialScore}%</strong></p>
        <p>Vrijheid (libertair→autoriteit): <strong>${freedomScore}%</strong></p>
        <p>Internationaal (globalistisch→nationalistisch): <strong>${intlScore}%</strong></p>
        <p class="mt-2 text-slate-300">De positie in het kompas gebruikt X = Economie (links‑rechts) en Y = Sociaal + Vrijheid (progressief‑conservatief). De extra balken tonen je aparte positie op Vrijheid en Internationaal.</p>
      `;
    }
      if(econSide==='rechts'&&socSide==='progressief'){quad='Rechts‑Progressief';txt='Je gelooft in marktwerking en vooruitgang.';}
      if(econSide==='links'&&socSide==='conservatief'){quad='Links‑Conservatief';txt='Je wilt gelijkheid en behoud van regels en tradities.';}
      if(econSide==='rechts'&&socSide==='conservatief'){quad='Rechts‑Conservatief';txt='Je kiest voor marktwerking en behoud van tradities.';}
      document.getElementById('quadText').innerHTML=`<strong>${quad}</strong><p>${txt}</p>`;
      document.getElementById('explanation').innerHTML=`<p>Economisch: ${economicScore}% (0% = links, 100% = rechts)</p><p>Sociaal: ${socialScore}% (0% = progressief, 100% = conservatief)</p>`;
    }
  </script></body>
</html>
